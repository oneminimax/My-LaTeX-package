\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{notes-de-cours}

\usepackage[french]{babel}

\usepackage[T1]{fontenc}

\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}

\usepackage{graphicx}
\usepackage{multirow}
\usepackage{multicol}
% \setlength{\multicolsep}{6.0pt plus 2.0pt minus 0pt}
\usepackage{xcolor}
\usepackage[shortlabels]{enumitem}
% \setlist{itemsep=2pt}

\usepackage[margin=2cm]{geometry}

\usepackage{mathtools}
\usepackage{siunitx}

% \usepackage{physics}

\definecolor{paired1a}{HTML}{a6cee3}
\definecolor{paired1b}{HTML}{1f78b4}
\definecolor{paired2a}{HTML}{b2df8a}
\definecolor{paired2b}{HTML}{33a02c}
\definecolor{paired3a}{HTML}{fb9a99}
\definecolor{paired3b}{HTML}{e31a1c}
\definecolor{paired4a}{HTML}{fdbf6f}
\definecolor{paired4b}{HTML}{ff7f00}
\definecolor{paired5a}{HTML}{cab2d6}
\definecolor{paired5b}{HTML}{6a3d9a}
\definecolor{paired6a}{HTML}{ffff99}
\definecolor{paired6b}{HTML}{b15928}

\colorlet{qubitfirsta}{paired3a}
\colorlet{qubitfirstb}{paired3b}

\colorlet{qubitlasta}{paired1a}
\colorlet{qubitlastb}{paired1b}

\colorlet{qubit0a}{paired3a}
\colorlet{qubit0b}{paired3b}

\colorlet{qubit1a}{paired1a}
\colorlet{qubit1b}{paired1b}

\colorlet{qubit2a}{paired4a}
\colorlet{qubit2b}{paired4b}

\colorlet{qubit3a}{paired2a}
\colorlet{qubit3b}{paired2b}

\usepackage[many]{tcolorbox}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\arctantwo}{arctan2}

\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=black!70!white,
  citecolor=cyan
}

\tcbset{mytcbbasestyle/.style={
    fontupper=\small,
    fontlower=\small,
    fonttitle=\small\bfseries,
    frame hidden,
    left=1mm, right=1mm,
    top=1mm, bottom=1mm,
    toptitle=0mm, bottomtitle=0mm,
    boxrule=0pt,
    titlerule=1pt,
    boxsep=1mm,
    colback=red!20!white,
    colframe=white,
    colbacktitle=red!50!white,
    coltitle=black,
    arc=0mm,
    auto outer arc,
    before skip=3mm plus 1mm minus 1mm,
    after skip=3mm plus 1mm minus 1mm,
    % before = \vglue 1mm,
    % after skip = \vglue 1mm,
    % breakable,
    pad at break=1mm,
    % oversize,
    enhanced,
    skin=enhanced jigsaw,
    shrink break goal = 2em,
    % after=\color{black},
    % before skip=2pt plus 2pt minus 0pt,
    parbox=false,
}}

\newcommand{\notationcolor}{paired1b}
\newtcolorbox[auto counter,number within=section]{notation}[2][]{
  mytcbbasestyle,
  colback=\notationcolor!20!white,
  colframe=white,
  colbacktitle=\notationcolor!50!white,
  coltitle=black,
  title={Notation \thetcbcounter{} : #2},
  #1
}

\newcommand{\exemplecolor}{paired5b}
\newtcolorbox[auto counter,number within=section]{exemple}[2][]{
  mytcbbasestyle,
  colback=\exemplecolor!20!white,
  colframe=white,
  colbacktitle=\exemplecolor!50!white,
  coltitle=black,
  title={\def\temp{#2}\ifx\temp\empty Exemple \thetcbcounter{} \else Exemple \thetcbcounter{} : #2\fi},
  % breakable,
  #1
}

% \newcommand{\demonstrationcolor}{paired6b}
% \newtcolorbox[auto counter,number within=section]{demonstration}[2][]{
%   mytcbbasestyle,
%   colback=\demonstrationcolor!20!white,
%   colframe=white,
%   colbacktitle=\demonstrationcolor!50!white,
%   coltitle=black,
%   title={\def\temp{#2}\ifx\temp\empty Démonstration \thetcbcounter{} \else Démonstration \thetcbcounter{} : #2\fi},
%   % breakable,
%   #1
% }

\newcommand{\remarquecolor}{paired4b}
\newtcolorbox[auto counter,number within=section]{remarque}[1][]{
  mytcbbasestyle,
  colback=\remarquecolor!20!white,
  colframe=white,
  colbacktitle=\remarquecolor!50!white,
  coltitle=black,
  title={Remarque},
  #1
}

\newcommand{\exercicecolor}{paired2b}
\newtcolorbox[auto counter,number within=section]{exercice}[2][]{
  mytcbbasestyle,
  colback=\exercicecolor!20!white,
  colframe=white,
  colbacktitle=\exercicecolor!50!white,
  coltitle=black,
  title={Exercice \thetcbcounter{} : #2},
  #1,
}

\newcommand{\notioncolor}{paired6b}
\newtcolorbox[auto counter,number within=section]{notion}[2][]{
  mytcbbasestyle,
  colback=\notioncolor!20!white,
  colframe=white,
  colbacktitle=\notioncolor!50!white,
  coltitle=black,
  title={Notion importante \thetcbcounter{} : #2},
  #1,
}

\newcommand{\exercicesolutioncolor}{paired3b}
\newtcolorbox[auto counter,number within=section]{exercice_solution}[1][]{
  mytcbbasestyle,
  colback=\exercicesolutioncolor!20!white,
  colframe=white,
  colbacktitle=\exercicesolutioncolor!50!white,
  coltitle=black,
  breakable,
  #1,
}

\newcommand{\inputexercice}[2][]{
  \begin{exercice}[label={exer:#2}]{#1}
    \input{\exerpath/#2.tex}
  \end{exercice}
}

\newcommand{\inputexercicesolution}[2][]{
  \begin{exercice_solution}[label={exer_sol:#2},title={Exercice~\ref{exer:#2} : #1}]
    \input{\exerpath/#2_SOL.tex}
  \end{exercice_solution}
}
